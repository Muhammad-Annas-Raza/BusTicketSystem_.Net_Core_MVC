@model IEnumerable<tbl_user>
@{
    Layout = "~/Views/Shared/_SuperAdminLayout.cshtml";
}


  <div class="pagetitle">
    <h1>Approve User</h1>
    <nav>
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">Home</a></li>
        <li class="breadcrumb-item">Approve</li>

      </ol>
    </nav>
  </div><!-- End Page Title -->

  <section class="section">
 

  <div class="card">
    <div class="card-body">
     
     

      <div class="input-group mb-3">
        <div class="form-outline">
          <input style="line-height: 18px;border: 1px solid grey;" id="id" onkeyup="srch()" class="form-control mt-5" placeholder="Search" />
        </div>
        <button type="button" class="btn btn-primary h-25 mt-5">
          <i class="bx bx-search"></i>
        </button>
        </div>





      <br>
      
    
      <!-- Bordered Table -->
      <table id="exam" class="table table-striped table-bordered">
        <thead>
          <tr>
            <!-- <th scope="col" class="text-center table-active">User id</th> -->
            <th scope="col"  class="text-center table-dark">Serial no.</th>
            <th scope="col" class="text-center table-dark">User Name</th>
            <th scope="col" class="text-center table-dark">User Email</th>
            <th scope="col" class="text-center table-dark">Verification Code</th>
            <th scope="col" class="text-center table-dark">Email Verified</th>
            <th scope="col" class="text-center table-dark">Role</th>
            <th scope="col" class="text-center table-dark">Registration Time</th>
            <th scope="col" class="text-center table-dark">Store Name</th>
            <th scope="col" class="text-center table-dark">Approve User</th>
            <th scope="col" class="text-center table-dark">Delete User</th>
          </tr>
        </thead>
        <tbody>
@{
           var j = 1;


 foreach (tbl_user i in Model)
           {
           <tr class="xyz">
           <td class="text-center"><b>@j</b></td>             
           <td class="text-center Usr_name">@i.user_name</td>
           <td class="text-center usr_email">@i.user_email_phone</td>
           <td class="text-center">@i.user_verification_code</td>
           @if (i.user_emailVerified == true)
                                        {
           <td class="text-center"><img height="50" width="50" src="~/BusOwnerassets/img/tick.png" /></td> 
           

           <td class="text-center">@i.user_role</td>
           <td class="text-center">@i.Created_at</td> 
           <td class="text-center org_name">@i.organization_name</td> 
           <th scope="row" class="text-center">
           <a 
           asp-controller="SuperAdmin" 
           asp-action="ApproveBusOwner"
           asp-route-id="@i.user_id"
           class="btn btn-primary" style="font-size: 18px;">Approve</a>
           </th>                   
           <th scope="row" class="text-center">
           <a class="btn btn-danger" style="font-size: 20px;" 
           asp-controller="SuperAdmin" 
           asp-action="DeleteBusOwner"
           asp-route-id="@i.user_id"><i class='bx bx-trash'></i></a>
           </th>

                                        }else
                                        {
           <td class="text-center"><img height="50" width="50" src="~/BusOwnerassets/img/cross.png" /></td>
                                       
           <td class="text-center">@i.user_role</td>
           <td class="text-center">@i.Created_at</td> 
           <td class="text-center org_name">@i.organization_name</td> 
           <th scope="row" class="text-center"><button disabled class="btn btn-primary" style="font-size: 18px;">Approve</button></th>                   
           <th scope="row" class="text-center">
           <a class="btn btn-danger" style="font-size: 20px;" 
           asp-controller="SuperAdmin" 
           asp-action="DeleteBusOwner"
           asp-route-id="@i.user_id"><i class='bx bx-trash'></i></a>
           </th>
            }
         </tr>
         j++;
    }   


     }
        </tbody>
      </table>
      <!-- End Bordered Table -->
     </div>
</div>
</section>

   
 
<script>
     
 function srch(){
    let filter = document.getElementById('id').value.toUpperCase();
    let myTable = document.getElementById('exam');
    let whole_table = document.querySelectorAll('.xyz');
    
    let tr = myTable.getElementsByClassName("Usr_name")
    let tr1 = myTable.getElementsByClassName("usr_email")
    let tr2 = myTable.getElementsByClassName("org_name")
    for(var i=0; i<tr.length; i++) {
      let td = tr[i].textContent || td.innerHTML;
      let td1 = tr1[i].textContent || td.innerHTML;
      let td2 = tr2[i].textContent || td.innerHTML;
    if(td) {
            if(td.toUpperCase().indexOf(filter) > -1 || td1.toUpperCase().indexOf(filter) > -1 || td2.toUpperCase().indexOf(filter) > -1){
               console.log(whole_table[i].style.display = "")
            }else{
              whole_table[i].style.display = "none"
            }
          }
        }
      }
    
    
</script>

